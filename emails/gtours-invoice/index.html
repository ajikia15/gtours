<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Georgia Tours - Invoice {{invoiceNumber}}</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #fff;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 40px 20px;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 40px;
        border-bottom: 3px solid #2563eb;
        padding-bottom: 20px;
      }

      .company-info h1 {
        font-size: 28px;
        color: #2563eb;
        margin-bottom: 10px;
        font-weight: bold;
      }

      .company-info p {
        color: #666;
        font-size: 14px;
        margin: 2px 0;
      }

      .invoice-details {
        text-align: right;
      }

      .invoice-details h2 {
        font-size: 24px;
        color: #333;
        margin-bottom: 10px;
      }

      .invoice-details p {
        font-size: 14px;
        margin: 4px 0;
      }

      .invoice-number {
        font-weight: bold;
        color: #2563eb;
        font-size: 16px;
      }

      .billing-section {
        display: flex;
        justify-content: space-between;
        margin-bottom: 40px;
      }

      .billing-info h3 {
        font-size: 16px;
        margin-bottom: 10px;
        color: #333;
        border-bottom: 1px solid #eee;
        padding-bottom: 5px;
      }

      .billing-info p {
        font-size: 14px;
        margin: 4px 0;
        color: #666;
      }

      .items-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 30px;
        background: #fff;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .items-table th {
        background-color: #f8fafc;
        color: #374151;
        font-weight: 600;
        padding: 12px;
        text-align: left;
        border-bottom: 2px solid #e5e7eb;
        font-size: 14px;
      }

      .items-table td {
        padding: 12px;
        border-bottom: 1px solid #e5e7eb;
        font-size: 14px;
      }

      .items-table tr:hover {
        background-color: #f9fafb;
      }

      .tour-title {
        font-weight: 600;
        color: #333;
        margin-bottom: 4px;
      }

      .tour-date {
        color: #666;
        font-size: 12px;
        margin-bottom: 2px;
      }

      .tour-travelers {
        color: #666;
        font-size: 12px;
      }

      .activities {
        margin-top: 4px;
      }

      .activity-tag {
        display: inline-block;
        background-color: #dbeafe;
        color: #1e40af;
        padding: 2px 6px;
        border-radius: 12px;
        font-size: 10px;
        margin: 1px 2px 1px 0;
      }

      .price {
        font-weight: 600;
        color: #059669;
        text-align: right;
      }

      .totals-section {
        margin-left: auto;
        width: 300px;
        margin-bottom: 30px;
      }

      .totals-table {
        width: 100%;
        border-collapse: collapse;
      }

      .totals-table td {
        padding: 8px 12px;
        border-bottom: 1px solid #e5e7eb;
      }

      .totals-table .label {
        text-align: left;
        color: #666;
      }

      .totals-table .amount {
        text-align: right;
        font-weight: 600;
      }

      .total-row {
        background-color: #f8fafc;
        font-size: 16px;
        font-weight: bold;
      }

      .total-row td {
        border-bottom: 2px solid #2563eb;
        color: #2563eb;
      }

      .footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid #e5e7eb;
        text-align: center;
      }

      .notes {
        background-color: #f0f9ff;
        border-left: 4px solid #2563eb;
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 0 4px 4px 0;
      }

      .notes p {
        color: #1e40af;
        font-style: italic;
        margin: 0;
      }

      .payment-status {
        display: inline-block;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
      }

      .payment-pending {
        background-color: #fef3c7;
        color: #92400e;
      }

      .payment-paid {
        background-color: #d1fae5;
        color: #065f46;
      }

      .footer-info {
        color: #666;
        font-size: 12px;
        margin-top: 15px;
      }

      @media print {
        .container {
          padding: 20px 0;
        }

        .items-table {
          box-shadow: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <div class="company-info">
          <h1>{{business.name}}</h1>
          <p>{{business.address}}</p>
          <p>{{business.phone}}</p>
          <p>{{business.email}}</p>
        </div>
        <div class="invoice-details">
          <h2>INVOICE</h2>
          <p class="invoice-number">#{{invoiceNumber}}</p>
          <p><strong>Date:</strong> {{invoiceDate}}</p>
          <p><strong>Due:</strong> {{dueDate}}</p>
          <p>
            <span class="payment-status payment-{{paymentStatus}}">
              {{paymentStatus}}
            </span>
          </p>
        </div>
      </div>

      <!-- Billing Information -->
      <div class="billing-section">
        <div class="billing-info">
          <h3>Bill To:</h3>
          <p><strong>{{customer.name}}</strong></p>
          <p>{{customer.email}}</p>
          {{#if customer.phone}}
          <p>{{customer.phone}}</p>
          {{/if}} {{#if customer.address}}
          <p>{{customer.address}}</p>
          {{/if}}
        </div>
        <div class="billing-info">
          <h3>Order Details:</h3>
          <p><strong>Order Date:</strong> {{orderDate}}</p>
          <p><strong>Currency:</strong> {{currency}}</p>
          <p><strong>Items:</strong> {{items.length}}</p>
        </div>
      </div>

      <!-- Items Table -->
      <table class="items-table">
        <thead>
          <tr>
            <th style="width: 50%">Tour Details</th>
            <th style="width: 20%">Date & Travelers</th>
            <th style="width: 15%">Quantity</th>
            <th style="width: 15%">Amount</th>
          </tr>
        </thead>
        <tbody>
          {{#each items}}
          <tr>
            <td>
              <div class="tour-title">{{description}}</div>
              {{#if activities}}
              <div class="activities">
                {{#each activities}}
                <span class="activity-tag">{{this}}</span>
                {{/each}}
              </div>
              {{/if}}
            </td>
            <td>
              {{#if date}}
              <div class="tour-date">ðŸ“… {{date}}</div>
              {{/if}} {{#if travelers}}
              <div class="tour-travelers">ðŸ‘¥ {{travelers}}</div>
              {{/if}}
            </td>
            <td style="text-align: center">{{quantity}}</td>
            <td class="price">{{total}} {{../currency}}</td>
          </tr>
          {{/each}}
        </tbody>
      </table>

      <!-- Totals -->
      <div class="totals-section">
        <table class="totals-table">
          <tr>
            <td class="label">Subtotal:</td>
            <td class="amount">{{subtotal}} {{currency}}</td>
          </tr>
          {{#if taxes}}
          <tr>
            <td class="label">Taxes:</td>
            <td class="amount">{{taxes}} {{currency}}</td>
          </tr>
          {{/if}}
          <tr class="total-row">
            <td class="label">TOTAL:</td>
            <td class="amount">{{total}} {{currency}}</td>
          </tr>
        </table>
      </div>

      <!-- Notes -->
      {{#if notes}}
      <div class="notes">
        <p>{{notes}}</p>
      </div>
      {{/if}}

      <!-- Footer -->
      <div class="footer">
        <div class="footer-info">
          <p>Thank you for choosing {{business.name}}!</p>
          <p>
            For questions about this invoice, please contact us at
            {{business.email}}
          </p>
          <p>Generated on {{invoiceDate}}</p>
        </div>
      </div>
    </div>
  </body>
</html>
